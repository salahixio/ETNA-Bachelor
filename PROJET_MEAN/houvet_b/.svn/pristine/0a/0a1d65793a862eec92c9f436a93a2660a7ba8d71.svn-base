export default class ArticlesController {

    constructor($scope, $http) {
        this.scope = $scope;
        this.http = $http;
    }

    getArticles() {
        let $scope = this.scope;
        this.http.get('http://127.0.0.1:3000/article').success(function(data) {
            $scope.articles = data.data;
        });
    }

    addCommentListener() {
        let $scope = this.scope;
        let $http = this.http;
        $scope.commentaires = [];
        $scope.addComment = function(id) {
            console.log($scope);
            var comment = {
                contenu : $scope.commentaires[id],
                //TODO : matching avec le user connect√©
                auteur : "test"
            };
            $http.post('http://127.0.0.1:3000/article/'+ id, comment).success(function(data) {
                $scope.articles = data.data;
            });
        }
    }
}
