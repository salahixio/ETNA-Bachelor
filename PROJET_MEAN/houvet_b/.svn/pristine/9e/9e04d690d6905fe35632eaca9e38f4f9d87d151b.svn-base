import HeaderController from './controller/HeaderController';

export default class Article {

    constructor() {
        this.app = angular.module("article",[]);
        this.createControllers();
        this.createFactories();
    }

    createControllers() {
        this.app.controller("HeaderController", function($scope){
            let headerController = new HeaderController($scope);
            headerController.getPseudo();
        });
        this.app.controller("ArticlesController", function($scope, $http, factoryExample){
            let articlesController = new ArticlesController($scope);
            console.log(factoryExample.getArticles($http));
        });
    }

    createFactories() {
        this.app.factory("factoryExample", function(){
            return{
                getArticles: function($http){
                    $http.get('127.0.0.1/article').success(function(data) {
                       return data;
                    });
                }
            }
        });
    }
}